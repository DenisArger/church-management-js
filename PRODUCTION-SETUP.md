# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–æ—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

## –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
yarn setup:production
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
./scripts/setup-production.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –°–æ–∑–¥–∞—Å—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç —Ñ–∞–π–ª `.env`
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç `NODE_ENV=production`
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç `DEBUG=false`
- –ù–∞—Å—Ç—Ä–æ–∏—Ç —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Netlify

**–í–∞–∂–Ω–æ**: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ Netlify Dashboard, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π.

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Netlify Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Netlify Dashboard](https://app.netlify.com)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Å–∞–π—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Site settings** > **Environment variables**
4. –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –≤–∞—à–µ–≥–æ `.env` —Ñ–∞–π–ª–∞

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Netlify CLI

```bash
# –í–æ–π–¥–∏—Ç–µ –≤ Netlify (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –≤–æ—à–ª–∏)
netlify login

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
netlify env:set NODE_ENV production
netlify env:set DEBUG false
netlify env:set LOG_LEVEL info
netlify env:set LOG_FORMAT json
netlify env:set TELEGRAM_BOT_TOKEN "your_token_here"
netlify env:set ALLOWED_USERS "282850458,123456789"
netlify env:set NOTION_TOKEN "your_notion_token"
# ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
```

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```env
NODE_ENV=production
DEBUG=false
LOG_LEVEL=info
LOG_FORMAT=json
TELEGRAM_BOT_TOKEN=your_production_bot_token
ALLOWED_USERS=282850458,123456789
NOTION_TOKEN=your_notion_token
NOTION_PRAYER_DATABASE=your_database_id
NOTION_GENERAL_CALENDAR_DATABASE=your_database_id
NOTION_DAILY_DISTRIBUTION_DATABASE=your_database_id
NOTION_WEEKLY_PRAYER_DATABASE=your_database_id
```

#### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```env
TELEGRAM_MAIN_CHANNEL_ID=your_channel_id
TELEGRAM_MAIN_GROUP_ID=your_group_id
TELEGRAM_YOUTH_GROUP_ID=your_youth_group_id
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: Debug –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`TELEGRAM_BOT_TOKEN_DEBUG`, `TELEGRAM_CHAT_ID_DEBUG`, `TELEGRAM_TOPIC_ID_DEBUG`) –Ω–µ –Ω—É–∂–Ω—ã –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.

### 3. –î–µ–ø–ª–æ–π –≤ Netlify

```bash
yarn deploy:full
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
./scripts/deploy.sh
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ webhook:

```bash
yarn webhook:set
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
./scripts/webhook-manager.sh set-file
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook

```bash
yarn webhook:info
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–°–∫—Ä–∏–ø—Ç `setup-production.sh` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ `NODE_ENV=production`
- ‚úÖ `DEBUG=false`
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Netlify

1. –û—Ç–∫—Ä–æ–π—Ç–µ Netlify Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Site settings** > **Environment variables**
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `NODE_ENV=production` –∏ `DEBUG=false`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/help` –±–æ—Ç—É –≤ Telegram
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Netlify Dashboard:
   - **Functions** > –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é > **Logs**
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É Development –∏ Production

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Development | Production |
|----------|-------------|------------|
| `NODE_ENV` | `development` | `production` |
| `DEBUG` | `true` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | `false` |
| `LOG_LEVEL` | `debug` –∏–ª–∏ `info` | `info` –∏–ª–∏ `warn` |
| –ë–æ—Ç —Ç–æ–∫–µ–Ω | –ú–æ–∂–µ—Ç –±—ã—Ç—å debug —Ç–æ–∫–µ–Ω | –û—Å–Ω–æ–≤–Ω–æ–π —Ç–æ–∫–µ–Ω |
| –ì—Ä—É–ø–ø—ã | –¢–µ—Å—Ç–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã | –ü—Ä–æ–¥–∞–∫—à–µ–Ω –≥—Ä—É–ø–ø—ã |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | –ü–æ–¥—Ä–æ–±–Ω–æ–µ | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ |

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Ç–æ–∫–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≤ Netlify
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–æ–∫–µ–Ω—ã
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### Debug —Ä–µ–∂–∏–º

–í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ `DEBUG=false` –æ–∑–Ω–∞—á–∞–µ—Ç:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç —Ç–æ–∫–µ–Ω (`TELEGRAM_BOT_TOKEN`)
- –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –≥—Ä—É–ø–ø—ã
- Debug –±–æ—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –ø–æ–ª–Ω–æ–º —Ä–µ–∂–∏–º–µ

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
- `LOG_LEVEL=info` - –¥–ª—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- `LOG_LEVEL=warn` - –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- `LOG_FORMAT=json` - –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ª–æ–≥–æ–≤

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook: `yarn webhook:info`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Netlify Dashboard
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ Netlify

### –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è debug –±–æ—Ç –≤–º–µ—Å—Ç–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DEBUG=false` –≤ Netlify –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `NODE_ENV=production` –≤ Netlify –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ (redeploy)

### –û—à–∏–±–∫–∞ "Missing required environment variables"

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ Netlify
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –ø—É—Å—Ç—ã–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é](DEPLOYMENT.md)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](docs/configuration.md)
- [Netlify Functions](docs/netlify-functions.md)

---

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:**

1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø—Ä–æ—Å–æ–≤
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤
4. ‚úÖ –°–æ–æ–±—â–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ –∑–∞–ø—É—Å–∫–µ


