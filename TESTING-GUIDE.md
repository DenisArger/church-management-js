# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! ‚úÖ

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞:

- **–¢–æ–∫–µ–Ω –±–æ—Ç–∞**: `TELEGRAM_BOT_TOKEN_DEBUG` (–Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ .env)
- **Chat ID**: `-1002317620302` (–≥—Ä—É–ø–ø–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- **Topic ID**: `78` (—Ç–æ–ø–∏–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- **–í–µ–±—Ö—É–∫ URL**: `https://f5fa2ef2--church-telegram-bot.netlify.live/.netlify/functions/telegram-webhook`

### –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–æ–≤:

- ‚úÖ **Netlify dev —Å–µ—Ä–≤–µ—Ä**: `http://localhost:8889` (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ **–û—Ç–ª–∞–¥–æ—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä**: `http://localhost:3000` (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ **Netlify Live**: `https://f5fa2ef2--church-telegram-bot.netlify.live` (–Ω–∞—Å—Ç—Ä–æ–µ–Ω)

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤–µ–±—Ö—É–∫–∞:

```bash
bash test-bot-webhook.sh info
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±—Ö—É–∫–∞:

```bash
bash test-bot-webhook.sh test https://f5fa2ef2--church-telegram-bot.netlify.live/.netlify/functions/telegram-webhook
```

#### –£–¥–∞–ª–µ–Ω–∏–µ –≤–µ–±—Ö—É–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):

```bash
bash test-bot-webhook.sh delete
```

#### –ü–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±—Ö—É–∫–∞:

```bash
bash test-bot-webhook.sh set-netlify https://f5fa2ef2--church-telegram-bot.netlify.live
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞:

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ –≤ Telegram –≥—Ä—É–ø–ø–µ `-1002317620302` –≤ —Ç–æ–ø–∏–∫–µ `78`. –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `/help` - —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- `/prayer` - –¥–æ–±–∞–≤–∏—Ç—å –º–æ–ª–∏—Ç–≤–µ–Ω–Ω—É—é –ø—Ä–æ—Å—å–±—É
- `/schedule` - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é
- `/sunday` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–æ—Å–∫—Ä–µ—Å–Ω–æ–º —Å–ª—É–∂–µ–Ω–∏–∏
- `/daily` - –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –ø–∏—Å–∞–Ω–∏–µ
- `/youth` - —Å–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞ –¥–ª—è –º–æ–ª–æ–¥–µ–∂–∏
- `/debug` - –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞:

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ Netlify dev:

–õ–æ–≥–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω `netlify dev --live`

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
# –¢–µ—Å—Ç –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
node test-webhook.js

# –¢–µ—Å—Ç Netlify —Ñ—É–Ω–∫—Ü–∏–∏
curl -X POST http://localhost:8889/.netlify/functions/telegram-webhook \
  -H "Content-Type: application/json" \
  -d '{"update_id": 1, "message": {"message_id": 1, "from": {"id": 123456789, "first_name": "Test"}, "chat": {"id": 123456789, "type": "private"}, "text": "/help", "date": 1234567890}}'
```

### –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:

1. **502 Bad Gateway**:

   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Netlify dev —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `netlify dev --live`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 8889 —Å–≤–æ–±–æ–¥–µ–Ω

2. **Webhook –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**:

   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `bash test-bot-webhook.sh info`
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ–±—Ö—É–∫: `bash test-bot-webhook.sh set-netlify https://f5fa2ef2--church-telegram-bot.netlify.live`

3. **–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ –≥—Ä—É–ø–ø–µ**:
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø–µ

### –§–∞–π–ª—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

- `test-bot-webhook.sh` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ–±—Ö—É–∫–æ–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞
- `test-webhook.js` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±—Ö—É–∫–∞
- `debug-server.ts` - –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- `.env` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–æ–∫–µ–Ω—ã, ID –≥—Ä—É–ø–ø)

–¢–µ–ø–µ—Ä—å —Ç–µ—Å—Ç–æ–≤—ã–π –±–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! üöÄ
